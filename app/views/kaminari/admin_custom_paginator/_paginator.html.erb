<div class="pagination">
  <%# 最初のページへのリンク %>
  <% unless current_page == 1 %>
    <%= link_to_if current_page > 1, '<<', url_for(page: 1), class: "common_box_beige common_size13 padding05" %>

    <%# 前のページへのリンク %>
    <%= link_to_if current_page > 1, '<', url_for(page: current_page - 1), class: "common_box_beige common_size13 padding05" %>
  <% end %>

  <%# 中央のページリンク（最大5ページ） %>
  <% start_page = [current_page - 2, 1].max %>
  <% end_page = [current_page + 2, total_pages].min %>
  
  <% (start_page..end_page).each do |page_num| %>
    <% if current_page == page_num %>
      <span class="common_btn_beige_background common_size13 padding05"><%= page_num %></span>
    <% else %>
      <%= link_to page_num, url_for(page: page_num), class: "common_box_beige common_size13 padding05" %>
    <% end %>
  <% end %>

  <%# totle_pagesは取得の総件数の値 %>
  <% if total_pages > 0 %>
    <% unless current_page == total_pages %>
      <%# 次のページへのリンク %>
      <%= link_to_if current_page < total_pages, '>', url_for(page: current_page + 1), class: "common_box_beige common_size13 padding05" %>

      <%# 最後のページへのリンク %>
      <%= link_to_if current_page < total_pages, '>>', url_for(page: total_pages), class: "common_box_beige common_size13 padding05" %>
    <% end %>
  <% end %>
</div>
